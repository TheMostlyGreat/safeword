---
description: USE WHEN BDD thresholds exceeded (2+ stories, >15 scenarios, >20 tasks). Split protocol and examples.
alwaysApply: false
---

# Decomposition Checkpoints & Splitting

Splitting is **suggested, not mandatory** — user decides.

## When to Split

| Checkpoint   | Trigger                        | Action                     |
| ------------ | ------------------------------ | -------------------------- |
| **Entry**    | 2+ user stories OR vague scope | Split into epic + features |
| **Phase 3**  | >15 scenarios OR 3+ clusters   | Split by user journey      |
| **Phase 5**  | >20 tasks OR 5+ components     | Split by component/layer   |

## Entry Checkpoint Reasoning

```text
1 story → feature
2 parallel stories → suggest 2 features
2 coupled stories (shared state) → 1 feature with 2 journeys
3+ stories → epic
```

## Split Protocol

**New ticket:**

1. Create epic with `children:` array
2. Create child tickets with `parent:` link
3. Commit: "chore: split [name] into N features"

**Existing ticket (promote):**

1. Change `type: feature` → `type: epic`
2. Add `children:` array
3. Create child tickets

## Restart Points

| Split At | Child Restarts From |
| -------- | ------------------- |
| Entry    | `intake`            |
| Phase 3  | `scenario-gate`     |
| Phase 5+ | `implement`         |

## User Override

"Proceed anyway" → Log it, continue, don't re-suggest this session.
